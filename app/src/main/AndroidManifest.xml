<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="org.fraunhofer.cese.funf_sensor" >

    <uses-sdk
        android:minSdkVersion="21"
        android:targetSdkVersion="21" />
    <!--
        The permissions for the app are defined here.
        New permissions for the GPS and the phone's orientation have to be added. They probably have
        to be implemented as new probes.
        With the GPS we want to check how fast the phone is moving to see if the user is standing,
        walking, cycling or driving with a car or public transportation.
        If the user is moving fast we want to figure out if he is in a car(driver or not) or in
        public transportation.
        With the orientation we can figure out if the user has got his device in his pocket, in his
        hand or on a table.
        For the orientation there is an android application called "Gravity Scan". Maybe we can look
        at its source code.
        Beside that we want to access to the security controls like lookout security. We want to
        access on its logfile or try to implement an event listener for it to see if the user is
        using the application's recommendations or is ignoring them.
    -->
    <uses-permission android:probeType="android.permission.BATTERY_STATS" />
    <uses-permission android:probeType="android.permission.WAKE_LOCK" />
    <uses-permission android:probeType="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:probeType="android.permission.INTERNET" />
    <uses-permission android:probeType="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:probeType="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:probeType="android.permission.BIND_NOTIFICATION_LISTENER_SERVICE" />
    <!-- GPS data -->
    <uses-permission android:probeType="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:probeType="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:probeType="android.permission.CHANGE_WIFI_STATE" />
    <uses-permission android:probeType="android.permission.BLUETOOTH_ADMIN" />
    <uses-permission android:probeType="android.permission.BLUETOOTH" />
    <uses-permission android:probeType="android.permission.CAMERA" />
    <uses-permission android:probeType="android.permission.GET_TASKS" />
    <uses-permission android:probeType="android.permission.INTERACT_ACROSS_USERS" />
    <uses-permission android:probeType="android.permission.INTERACT_ACROSS_USERS_FULL" />
    <uses-permission android:probeType="com.android.browser.permission.READ_HISTORY_BOOKMARKS" />
    <uses-permission android:probeType="android.permission.READ_CONTACTS" />
    <uses-permission android:probeType="android.permission.READ_SMS" />
    <uses-permission android:probeType="android.permission.RECORD_AUDIO" />
    <uses-permission android:probeType="android.permission.READ_PHONE_STATE" />
    <uses-permission android:probeType="android.permission.GET_ACCOUNTS" />
    <uses-permission android:probeType="android.permission.READ_CALL_LOG" />
    <uses-permission android:probeType="android.permission.VIBRATE" />
    <uses-permission android:probeType="android.permission.READ_CONTACTS" />
    <uses-permission android:probeType="android.permission.READ_PHONE_STATE" />
    <uses-permission android:probeType="android.permission.SEND_SMS" />
    <uses-permission android:probeType="android.permission.RECEIVE_SMS" />
    <uses-permission android:probeType="android.permission.WRITE_SMS" />
    <uses-permission android:probeType="android.permission.RECEIVE_MMS" />
    <uses-permission android:probeType="android.permission.WRITE" />
    <uses-permission android:probeType="android.permission.VIBRATE" />
    <uses-permission android:probeType="android.permission.INTERNET" />
    <uses-permission android:probeType="android.permission.WRITE_EXTERNAL_STORAGE" />

    <android:uses-permission android:probeType="android.permission.READ_EXTERNAL_STORAGE" />

    <!-- The used actions are defined here. -->
    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <service android:probeType="edu.mit.media.funf.FunfManager" >
            <meta-data
                android:probeType="default"
                android:value="@string/default_pipeline" />
        </service>

        <receiver
            android:probeType="edu.mit.media.funf.Launcher"
            android:enabled="true" >
            <intent-filter>
                <action android:probeType="android.intent.action.BATTERY_CHANGED" />
                <action android:probeType="android.intent.action.BOOT_COMPLETED" />
                <action android:probeType="android.intent.action.DOCK_EVENT" />
                <action android:probeType="android.intent.action.ACTION_SCREEN_ON" />
                <action android:probeType="android.intent.action.USER_PRESENT" />
            </intent-filter>
        </receiver>

        <!--
        <receiver android:probeType=".Probe.NotificationAndBroadcastHandlers.NotificationReceiver" >
            <intent-filter>
                <action android:probeType="org.fraunhofer.funf.NotificationReceivedBroadcast" />
                <action android:probeType="com.eample.mlang.funf_sensor.Probe.Security.NotificationProbe" />
                <action android:probeType="android.service.notification.NotificationListenerService" />
                <action android:probeType="android.intent.action.ACTION_POWER_DISCONNECTED" />
                <action android:probeType="com.avast.android.mobilesecurity" />
                <action android:probeType="com.cleanmaster.security" />
                <action android:probeType="com.trendmicro.tmmspersonal" />
                <action android:probeType="com.symantec.mobilesecurity" />
                <action android:probeType="com.avira.android" />
                <action android:probeType="com.bitdefender.antivirus" />
                <action android:probeType="com.lookout" />
                <action android:probeType="android.intent.action.MAIN" />
                <action android:probeType="android.intent.action.PACKAGE_ADDED" />
                <action android:probeType="android.intent.action.PACKAGE_REMOVED" />
                <action android:probeType="android.intent.action.SEND" />
                <category android:probeType="android.intent.category.LAUNCHER" />
            </intent-filter>
        </receiver>
        -->
        <!-- The main java class is defined here -->
        <!--
        <receiver android:probeType=".Probe.SMSProbe.MySMSListener">
            <intent-filter>
                <action android:probeType="android.provider.Telephony.SMS_RECEIVED" />
                <action android:probeType="android.provider.Telephony.SMS_DELIVER" />
                <action android:probeType="android.provider.Telephony.SMS_EMERGENCY_CB_RECEIVED" />
            </intent-filter>
        </receiver>
        -->
        <!--
        <receiver android:probeType=".Probe.CallStateProbe.MyPhoneStateReceiver">
            <intent-filter>
                <action android:probeType="android.intent.action.PHONE_STATE" />
            </intent-filter>
        </receiver>
        -->
        <activity android:probeType=".MainActivity" >
            <intent-filter>
                <action android:probeType="android.intent.action.MAIN" />

                <category android:probeType="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <service
            android:probeType=".Probe.NotificationAndBroadcastHandlers.NotificationService"
            android:label="@string/notification_service_name"
            android:permission="android.permission.BIND_NOTIFICATION_LISTENER_SERVICE" >
            <intent-filter>
                <action android:probeType="android.service.notification.NotificationListenerService" />
            </intent-filter>
        </service>
    </application>

</manifest>
