<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="org.fraunhofer.cese.madcap">

    <!--
        The permissions for the app are defined here.
        New permissions for the GPS and the phone's orientation have to be added. They probably have
        to be implemented as new probes.
        With the GPS we want to check how fast the phone is moving to see if the user is standing,
        walking, cycling or driving with a car or public transportation.
        If the user is moving fast we want to figure out if he is in a car(driver or not) or in
        public transportation.
        With the orientation we can figure out if the user has got his device in his pocket, in his
        hand or on a table.
        For the orientation there is an android application called "Gravity Scan". Maybe we can look
        at its source code.
        Beside that we want to access to the security controls like lookout security. We want to
        access on its logfile or try to implement an event listener for it to see if the user is
        using the application's recommendations or is ignoring them.
    -->
    <uses-permission android:name="android.permission.BATTERY_STATS" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.GET_TASKS" />
    <uses-permission android:name="android.permission.BLUETOOTH" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.BIND_NOTIFICATION_LISTENER_SERVICE" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <!-- <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" /> -->

    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.WRITE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.READ_PROFILE" />
    <uses-permission android:name="android.permission.READ_CONTACTS" /> <!-- The used actions are defined here. -->
    <application
        android:name=".MyApplication"
        android:allowBackup="false"
        android:fullBackupContent="false"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme"
        tools:ignore="GoogleAppIndexingWarning">

        <!-- This section is for the PathsenseAcrivityRecognition -->
        <meta-data
            android:name="com.pathsense.android.sdk.CLIENT_ID"
            android:value="@string/pathsenseClientID" />
        <meta-data
            android:name="com.pathsense.android.sdk.API_KEY"
            android:value="@string/pathsenseAPIKEY" />

        <receiver android:name=".Probe.ActivityProbe.PathsenseActivityChangeBroadcastReceiver" />
        <receiver android:name=".Probe.ActivityProbe.PathsenseActivityUpdateBroadcastReceiver" />

        <service android:name="edu.mit.media.funf.FunfManager" />

        <receiver
            android:name="edu.mit.media.funf.Launcher"
            android:enabled="true">
            <intent-filter>
                <action android:name="android.intent.action.BATTERY_CHANGED" />
                <action android:name="android.intent.action.BOOT_COMPLETED" />
                <action android:name="android.intent.action.DOCK_EVENT" />
                <action android:name="android.intent.action.ACTION_SCREEN_ON" />
                <action android:name="android.intent.action.USER_PRESENT" />
            </intent-filter>
        </receiver>

        <activity
            android:name=".MainActivity"
            android:configChanges="orientation|keyboardHidden"
            android:screenOrientation="portrait"
            android:theme="@style/ThemeOverlay.MyNoTitleActivity">
        </activity>

        <meta-data
            android:name="com.google.android.gms.version"
            android:value="@integer/google_play_services_version" />


        <activity
            android:name=".SignInActivity"
            android:label="@string/name_sign_in_activity"
            android:theme="@style/ThemeOverlay.MyNoTitleActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".IdTokenActivity"
            android:label="@string/name_id_token_activity"
            android:theme="@style/ThemeOverlay.MyNoTitleActivity">
        </activity>
    </application>

</manifest>